<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>号码组管理系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#ef4444',
                        neutral: '#64748b'
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .number-btn {
                @apply w-9 h-9 rounded-full flex items-center justify-center cursor-pointer bg-gray-700 text-white text-sm transition-all duration-200;
            }
            .number-btn.selected {
                @apply bg-accent ring-2 ring-accent/50 scale-110;
            }
            .stat-card {
                @apply bg-gray-800 rounded-lg p-4 shadow-md;
            }
            .probability-bar {
                @apply h-2 bg-gray-700 rounded-full overflow-hidden;
            }
            .probability-fill {
                @apply h-full bg-primary transition-all duration-500 ease-out;
            }
            .nav-item {
                @apply flex flex-col items-center py-2 flex-1 transition-all duration-200 text-gray-400 cursor-pointer;
            }
            .nav-item.active {
                @apply text-primary border-t-2 border-primary;
            }
            .digit-option {
                @apply px-3 py-2 rounded-md bg-gray-700 hover:bg-gray-600 text-white text-sm transition-all cursor-pointer;
            }
            .digit-option.active {
                @apply bg-primary text-white;
            }
            .matched-numbers {
                @apply inline-block px-1.5 py-0.5 bg-green-500/20 text-green-400 rounded text-xs mr-1;
            }
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.fixed{position:fixed}.bottom-0{bottom:0px}.left-0{left:0px}.right-0{right:0px}.right-4{right:1rem}.top-4{top:1rem}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-16{margin-bottom:4rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mt-4{margin-top:1rem}.mt-2{margin-top:0.5rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-24{height:6rem}.max-h-\[400px\]{max-height:400px}.min-h-\[120px\]{min-height:120px}.min-h-\[150px\]{min-height:150px}.min-h-\[300px\]{min-height:300px}.min-h-\[80px\]{min-height:80px}.min-h-screen{min-height:100vh}.w-full{width:100%}.max-w-4xl{max-width:56rem}.max-w-\[80\%\]{max-width:80%}.flex-1{flex:1 1 0%}.translate-x-full{--tw-translate-x:100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1\.5{gap:0.375rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded-md{border-radius:0.375rem}.rounded{border-radius:0.25rem}.border{border-width:1px}.border-gray-600{--tw-border-opacity:1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity:1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-secondary{--tw-bg-opacity:1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-2{padding:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.pb-16{padding-bottom:4rem}.pr-1{padding-right:0.25rem}.text-center{text-align:center}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-primary{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.number-btn{display:flex;height:2.25rem;width:2.25rem;cursor:pointer;align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.number-btn.selected{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:rgb(239 68 68 / 0.5)}.stat-card{border-radius:0.5rem;--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.nav-item{display:flex;flex:1 1 0%;cursor:pointer;flex-direction:column;align-items:center;padding-top:0.5rem;padding-bottom:0.5rem;--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.nav-item.active{border-top-width:2px;--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.digit-option{cursor:pointer;border-radius:0.375rem;--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.digit-option:hover{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.digit-option.active{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}
        .hover\:bg-blue-500:hover{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}
        .hover\:bg-gray-500:hover{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}
        .hover\:bg-green-500:hover{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}
        .hover\:bg-primary\/90:hover{background-color:rgb(59 130 246 / 0.9)}
        .hover\:bg-purple-500:hover{--tw-bg-opacity:1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}
        .hover\:bg-red-500:hover{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}
        .hover\:bg-secondary\/90:hover{background-color:rgb(16 185 129 / 0.9)}
        .hover\:text-red-300:hover{--tw-text-opacity:1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}
        .focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}
        .focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}
        .focus\:ring-primary:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}
    </style><style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.fixed{position:fixed}.bottom-0{bottom:0px}.left-0{left:0px}.right-0{right:0px}.right-4{right:1rem}.top-4{top:1rem}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-16{margin-bottom:4rem}.mt-1{margin-top:0.25rem}.mr-2{margin-right:0.5rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-24{height:6rem}.max-h-\[400px\]{max-height:400px}.min-h-screen{min-height:100vh}.min-h-\[120px\]{min-height:120px}.min-h-\[80px\]{min-height:80px}.min-h-\[150px\]{min-height:150px}.min-h-\[300px\]{min-height:300px}.w-full{width:100%}.max-w-4xl{max-width:56rem}.max-w-\[80\%\]{max-width:80%}.flex-1{flex:1 1 0%}.translate-x-full{--tw-translate-x:100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1\.5{gap:0.375rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded-md{border-radius:0.375rem}.rounded{border-radius:0.25rem}.border{border-width:1px}.border-gray-600{--tw-border-opacity:1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-secondary{--tw-bg-opacity:1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity:1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-2{padding:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-16{padding-bottom:4rem}.pr-1{padding-right:0.25rem}.text-center{text-align:center}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-primary{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.number-btn{display:flex;height:2.25rem;width:2.25rem;cursor:pointer;align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.number-btn.selected{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:rgb(239 68 68 / 0.5)}.stat-card{border-radius:0.5rem;--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.nav-item{display:flex;flex:1 1 0%;cursor:pointer;flex-direction:column;align-items:center;padding-top:0.5rem;padding-bottom:0.5rem;--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.nav-item.active{border-top-width:2px;--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.digit-option{cursor:pointer;border-radius:0.375rem;--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.digit-option:hover{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.digit-option.active{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}
        .hover\:bg-gray-500:hover{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}
        .hover\:bg-primary\/90:hover{background-color:rgb(59 130 246 / 0.9)}
        .hover\:bg-secondary\/90:hover{background-color:rgb(16 185 129 / 0.9)}
        .hover\:bg-blue-500:hover{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}
        .hover\:bg-green-500:hover{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}
        .hover\:bg-purple-500:hover{--tw-bg-opacity:1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}
        .hover\:bg-red-500:hover{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}
        .hover\:text-red-300:hover{--tw-text-opacity:1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}
        .focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}
        .focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}
        .focus\:ring-primary:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}
    </style><style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.fixed{position:fixed}.bottom-0{bottom:0px}.left-0{left:0px}.right-0{right:0px}.right-4{right:1rem}.top-4{top:1rem}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-16{margin-bottom:4rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mt-4{margin-top:1rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-24{height:6rem}.min-h-\[120px\]{min-height:120px}.min-h-\[150px\]{min-height:150px}.min-h-\[300px\]{min-height:300px}.min-h-\[80px\]{min-height:80px}.min-h-screen{min-height:100vh}.w-full{width:100%}.max-w-4xl{max-width:56rem}.max-w-\[80\%\]{max-width:80%}.flex-1{flex:1 1 0%}.translate-x-full{--tw-translate-x:100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1\.5{gap:0.375rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-gray-600{--tw-border-opacity:1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity:1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-secondary{--tw-bg-opacity:1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-16{padding-bottom:4rem}.text-center{text-align:center}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-gray-100{--tw-text-opacity:1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity:1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.number-btn{display:flex;height:2.25rem;width:2.25rem;cursor:pointer;align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.number-btn.selected{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:rgb(239 68 68 / 0.5)}.stat-card{border-radius:0.5rem;--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.nav-item{display:flex;flex:1 1 0%;cursor:pointer;flex-direction:column;align-items:center;padding-top:0.5rem;padding-bottom:0.5rem;--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms}.nav-item.active{border-top-width:2px;--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.digit-option{cursor:pointer;border-radius:0.375rem;--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.digit-option:hover{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.digit-option.active{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}
        .hover\:bg-blue-500:hover{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}
        .hover\:bg-gray-500:hover{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}
        .hover\:bg-green-500:hover{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}
        .hover\:bg-primary\/90:hover{background-color:rgb(59 130 246 / 0.9)}
        .hover\:bg-purple-500:hover{--tw-bg-opacity:1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}
        .hover\:bg-red-500:hover{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}
        .hover\:bg-secondary\/90:hover{background-color:rgb(16 185 129 / 0.9)}
        .hover\:text-red-300:hover{--tw-text-opacity:1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}
        .focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}
        .focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}
        .focus\:ring-primary:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}
    </style></head>
<body class="bg-gray-900 text-gray-100 min-h-screen pb-16">
    <!-- 1. 匹配号码界面 -->
    <div id="matchPage" class="page container mx-auto p-3 max-w-4xl">
        <h1 class="text-xl font-bold mb-4 text-center">号码组管理系统</h1>
        
        <!-- 数据统计 -->
        <div class="grid grid-cols-3 gap-3 mb-4">
            <div class="stat-card">
                <p class="text-xs text-gray-400">总组数</p>
                <p class="text-lg font-bold" id="totalGroups">287</p>
            </div>
            <div class="stat-card">
                <p class="text-xs text-gray-400">最新编号</p>
                <p class="text-lg font-bold truncate" id="latestId">25287</p>
            </div>
            <div class="stat-card">
                <p class="text-xs text-gray-400">最新时间</p>
                <p class="text-lg font-bold text-xs" id="latestTime">2025/10/28 22:27:21</p>
            </div>
        </div>

        <!-- 添加号码组 -->
        <div class="stat-card mb-4">
            <h2 class="text-lg font-semibold mb-3">添加号码组</h2>
            <div class="mb-3">
                <label class="block text-gray-300 text-xs mb-1" for="groupId">号码组编号</label>
                <input type="text" id="groupId" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-primary" placeholder="例如：25285">
            </div>
            <div class="mb-3">
                <label class="block text-gray-300 text-xs mb-1" for="groupNumbers">号码（逗号分隔）</label>
                <input type="text" id="groupNumbers" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-primary" placeholder="例如：1,2,3,4,5">
            </div>
            <div class="flex gap-2">
                <button id="addBtn" class="flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-md text-sm transition-colors">添加</button>
                <button id="clearInputBtn" class="flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 rounded-md text-sm transition-colors">清空</button>
            </div>
        </div>

        <!-- 批量导入 -->
        <div class="stat-card mb-4">
            <h2 class="text-lg font-semibold mb-3">批量导入</h2>
            <p class="text-gray-400 text-xs mb-2">格式：编号,号码1,号码2...（每行一组）</p>
            <textarea id="batchInput" class="w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-primary h-24 mb-2"></textarea>
            <button id="batchImportBtn" class="w-full bg-secondary hover:bg-secondary/90 text-white py-2 rounded-md text-sm transition-colors">批量导入</button>
        </div>

        <!-- 号码查询 -->
        <div class="stat-card mb-4">
            <h2 class="text-lg font-semibold mb-3">号码查询</h2>
            
            <!-- 号码选择区 -->
            <div class="mb-3">
                <p class="text-gray-300 text-xs mb-2">选择号码（最多9个）</p>
                <div id="numberSelector" class="flex flex-wrap gap-1.5 mb-2 justify-center"><div class="number-btn" data-num="1" data-page="match">1</div><div class="number-btn" data-num="2" data-page="match">2</div><div class="number-btn" data-num="3" data-page="match">3</div><div class="number-btn" data-num="4" data-page="match">4</div><div class="number-btn" data-num="5" data-page="match">5</div><div class="number-btn" data-num="6" data-page="match">6</div><div class="number-btn" data-num="7" data-page="match">7</div><div class="number-btn" data-num="8" data-page="match">8</div><div class="number-btn" data-num="9" data-page="match">9</div><div class="number-btn" data-num="10" data-page="match">10</div><div class="number-btn" data-num="11" data-page="match">11</div><div class="number-btn" data-num="12" data-page="match">12</div><div class="number-btn" data-num="13" data-page="match">13</div><div class="number-btn" data-num="14" data-page="match">14</div><div class="number-btn" data-num="15" data-page="match">15</div><div class="number-btn" data-num="16" data-page="match">16</div><div class="number-btn" data-num="17" data-page="match">17</div><div class="number-btn" data-num="18" data-page="match">18</div><div class="number-btn" data-num="19" data-page="match">19</div><div class="number-btn" data-num="20" data-page="match">20</div><div class="number-btn" data-num="21" data-page="match">21</div><div class="number-btn" data-num="22" data-page="match">22</div><div class="number-btn" data-num="23" data-page="match">23</div><div class="number-btn" data-num="24" data-page="match">24</div><div class="number-btn" data-num="25" data-page="match">25</div><div class="number-btn" data-num="26" data-page="match">26</div><div class="number-btn" data-num="27" data-page="match">27</div><div class="number-btn" data-num="28" data-page="match">28</div><div class="number-btn" data-num="29" data-page="match">29</div><div class="number-btn" data-num="30" data-page="match">30</div><div class="number-btn" data-num="31" data-page="match">31</div><div class="number-btn" data-num="32" data-page="match">32</div><div class="number-btn" data-num="33" data-page="match">33</div><div class="number-btn" data-num="34" data-page="match">34</div><div class="number-btn" data-num="35" data-page="match">35</div><div class="number-btn" data-num="36" data-page="match">36</div><div class="number-btn" data-num="37" data-page="match">37</div><div class="number-btn" data-num="38" data-page="match">38</div><div class="number-btn" data-num="39" data-page="match">39</div><div class="number-btn" data-num="40" data-page="match">40</div><div class="number-btn" data-num="41" data-page="match">41</div><div class="number-btn" data-num="42" data-page="match">42</div><div class="number-btn" data-num="43" data-page="match">43</div><div class="number-btn" data-num="44" data-page="match">44</div><div class="number-btn" data-num="45" data-page="match">45</div><div class="number-btn" data-num="46" data-page="match">46</div><div class="number-btn" data-num="47" data-page="match">47</div><div class="number-btn" data-num="48" data-page="match">48</div><div class="number-btn" data-num="49" data-page="match">49</div><div class="number-btn" data-num="50" data-page="match">50</div><div class="number-btn" data-num="51" data-page="match">51</div><div class="number-btn" data-num="52" data-page="match">52</div><div class="number-btn" data-num="53" data-page="match">53</div><div class="number-btn" data-num="54" data-page="match">54</div><div class="number-btn" data-num="55" data-page="match">55</div><div class="number-btn" data-num="56" data-page="match">56</div><div class="number-btn" data-num="57" data-page="match">57</div><div class="number-btn" data-num="58" data-page="match">58</div><div class="number-btn" data-num="59" data-page="match">59</div><div class="number-btn" data-num="60" data-page="match">60</div><div class="number-btn" data-num="61" data-page="match">61</div><div class="number-btn" data-num="62" data-page="match">62</div><div class="number-btn" data-num="63" data-page="match">63</div><div class="number-btn" data-num="64" data-page="match">64</div><div class="number-btn" data-num="65" data-page="match">65</div><div class="number-btn" data-num="66" data-page="match">66</div><div class="number-btn" data-num="67" data-page="match">67</div><div class="number-btn" data-num="68" data-page="match">68</div><div class="number-btn" data-num="69" data-page="match">69</div><div class="number-btn" data-num="70" data-page="match">70</div><div class="number-btn" data-num="71" data-page="match">71</div><div class="number-btn" data-num="72" data-page="match">72</div><div class="number-btn" data-num="73" data-page="match">73</div><div class="number-btn" data-num="74" data-page="match">74</div><div class="number-btn" data-num="75" data-page="match">75</div><div class="number-btn" data-num="76" data-page="match">76</div><div class="number-btn" data-num="77" data-page="match">77</div><div class="number-btn" data-num="78" data-page="match">78</div><div class="number-btn" data-num="79" data-page="match">79</div><div class="number-btn" data-num="80" data-page="match">80</div></div>
                <p class="text-xs text-gray-400" id="selectionStatus">已选择：0/9个</p>
            </div>
            
            <!-- 匹配方式 -->
            <div class="mb-3">
                <p class="text-gray-300 text-xs mb-2">匹配方式</p>
                <div class="flex gap-2">
                    <button id="exactMatch" class="flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-md text-sm transition-colors">完全匹配</button>
                    <button id="partialMatch" class="flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 rounded-md text-sm transition-colors">部分匹配</button>
                </div>
            </div>
            
            <button id="searchBtn" class="w-full bg-secondary hover:bg-secondary/90 text-white py-2 rounded-md text-sm transition-colors">查询并计算概率</button>
        </div>

        <!-- 查询结果与概率分析 -->
        <div class="stat-card mb-4">
            <h2 class="text-lg font-semibold mb-3">查询结果与概率分析</h2>
            
            <!-- 匹配组结果 -->
            <div class="mb-4">
                <p class="text-gray-300 text-xs mb-2">匹配的号码组 (<span id="matchCount">0</span>) <span id="matchHint" class="text-yellow-400"></span></p>
                <div id="matchResults" class="min-h-[80px]">
                    <p class="text-gray-400 text-xs text-center py-4">请选择号码并查询</p>
                </div>
            </div>
            
            <!-- 概率号码分析 -->
            <div>
                <p class="text-gray-300 text-xs mb-2">关联号码出现概率（按出现次数排序）</p>
                <div id="probabilityResults" class="min-h-[120px]">
                    <p class="text-gray-400 text-xs text-center py-4">查询后显示概率分析</p>
                </div>
            </div>
        </div>

        <!-- 数据管理 -->
        <div class="stat-card mb-16">
            <h2 class="text-lg font-semibold mb-3">数据管理</h2>
            <div class="grid grid-cols-2 gap-2">
                <button id="exportBtn" class="bg-blue-600 hover:bg-blue-500 text-white py-2 rounded-md text-xs transition-colors">导出数据</button>
                <button id="importBtn" class="bg-green-600 hover:bg-green-500 text-white py-2 rounded-md text-xs transition-colors">导入数据</button>
                <button id="solidifyBtn" class="bg-purple-600 hover:bg-purple-500 text-white py-2 rounded-md text-xs transition-colors">固化数据</button>
                <button id="clearAllBtn" class="bg-red-600 hover:bg-red-500 text-white py-2 rounded-md text-xs transition-colors">清空所有</button>
            </div>
            <input type="file" id="fileInput" accept=".json" class="hidden">
        </div>
    </div>

    <!-- 2. 大底筛选界面 -->
    <div id="filterPage" class="page container mx-auto p-3 max-w-4xl hidden">
        <h1 class="text-xl font-bold mb-4 text-center">大底筛选</h1>
        
        <!-- 1. 近期录入号码（最近三组）- 放在最上面 -->
        <div class="stat-card mb-4">
            <h2 class="text-lg font-semibold mb-3">近期录入号码组（最近3组）</h2>
            <div id="latestGroupsContainer" class="min-h-[80px] text-xs"><div class="space-y-2">
                <div class="bg-gray-700 p-2 rounded-md">
                    <div class="flex justify-between text-xs">
                        <span class="font-bold">25287</span>
                        <span class="text-gray-400">2025/10/28 22:27:21</span>
                    </div>
                    <div class="text-xs mt-1 text-gray-300">1, 6, 17, 18, 21, 22, 23, 24, 31, 32, 40, 43, 48, 49, 52, 57, 58, 60, 68, 79</div>
                </div>
                
                <div class="bg-gray-700 p-2 rounded-md">
                    <div class="flex justify-between text-xs">
                        <span class="font-bold">25286</span>
                        <span class="text-gray-400">2025/10/28 14:53:18</span>
                    </div>
                    <div class="text-xs mt-1 text-gray-300">6, 12, 14, 16, 22, 24, 25, 34, 38, 39, 41, 42, 43, 54, 57, 58, 61, 62, 68, 74</div>
                </div>
                
                <div class="bg-gray-700 p-2 rounded-md">
                    <div class="flex justify-between text-xs">
                        <span class="font-bold">25285</span>
                        <span class="text-gray-400">2025/10/26 22:06:53</span>
                    </div>
                    <div class="text-xs mt-1 text-gray-300">5, 6, 7, 9, 11, 19, 24, 27, 28, 29, 38, 39, 41, 45, 46, 63, 67, 68, 73, 80</div>
                </div>
                </div></div>
        </div>
        
        <!-- 2. 号码选择 - 放在第二位 -->
        <div class="stat-card mb-4">
            <h2 class="text-lg font-semibold mb-3">选择号码（最多20个）</h2>
            <div id="filterNumberSelector" class="flex flex-wrap gap-1.5 mb-2 justify-center"><div class="number-btn" data-num="1" data-page="filter">1</div><div class="number-btn" data-num="2" data-page="filter">2</div><div class="number-btn" data-num="3" data-page="filter">3</div><div class="number-btn" data-num="4" data-page="filter">4</div><div class="number-btn" data-num="5" data-page="filter">5</div><div class="number-btn" data-num="6" data-page="filter">6</div><div class="number-btn" data-num="7" data-page="filter">7</div><div class="number-btn" data-num="8" data-page="filter">8</div><div class="number-btn" data-num="9" data-page="filter">9</div><div class="number-btn" data-num="10" data-page="filter">10</div><div class="number-btn" data-num="11" data-page="filter">11</div><div class="number-btn" data-num="12" data-page="filter">12</div><div class="number-btn" data-num="13" data-page="filter">13</div><div class="number-btn" data-num="14" data-page="filter">14</div><div class="number-btn" data-num="15" data-page="filter">15</div><div class="number-btn" data-num="16" data-page="filter">16</div><div class="number-btn" data-num="17" data-page="filter">17</div><div class="number-btn" data-num="18" data-page="filter">18</div><div class="number-btn" data-num="19" data-page="filter">19</div><div class="number-btn" data-num="20" data-page="filter">20</div><div class="number-btn" data-num="21" data-page="filter">21</div><div class="number-btn" data-num="22" data-page="filter">22</div><div class="number-btn" data-num="23" data-page="filter">23</div><div class="number-btn" data-num="24" data-page="filter">24</div><div class="number-btn" data-num="25" data-page="filter">25</div><div class="number-btn" data-num="26" data-page="filter">26</div><div class="number-btn" data-num="27" data-page="filter">27</div><div class="number-btn" data-num="28" data-page="filter">28</div><div class="number-btn" data-num="29" data-page="filter">29</div><div class="number-btn" data-num="30" data-page="filter">30</div><div class="number-btn" data-num="31" data-page="filter">31</div><div class="number-btn" data-num="32" data-page="filter">32</div><div class="number-btn" data-num="33" data-page="filter">33</div><div class="number-btn" data-num="34" data-page="filter">34</div><div class="number-btn" data-num="35" data-page="filter">35</div><div class="number-btn" data-num="36" data-page="filter">36</div><div class="number-btn" data-num="37" data-page="filter">37</div><div class="number-btn" data-num="38" data-page="filter">38</div><div class="number-btn" data-num="39" data-page="filter">39</div><div class="number-btn" data-num="40" data-page="filter">40</div><div class="number-btn" data-num="41" data-page="filter">41</div><div class="number-btn" data-num="42" data-page="filter">42</div><div class="number-btn" data-num="43" data-page="filter">43</div><div class="number-btn" data-num="44" data-page="filter">44</div><div class="number-btn" data-num="45" data-page="filter">45</div><div class="number-btn" data-num="46" data-page="filter">46</div><div class="number-btn" data-num="47" data-page="filter">47</div><div class="number-btn" data-num="48" data-page="filter">48</div><div class="number-btn" data-num="49" data-page="filter">49</div><div class="number-btn" data-num="50" data-page="filter">50</div><div class="number-btn" data-num="51" data-page="filter">51</div><div class="number-btn" data-num="52" data-page="filter">52</div><div class="number-btn" data-num="53" data-page="filter">53</div><div class="number-btn" data-num="54" data-page="filter">54</div><div class="number-btn" data-num="55" data-page="filter">55</div><div class="number-btn" data-num="56" data-page="filter">56</div><div class="number-btn" data-num="57" data-page="filter">57</div><div class="number-btn" data-num="58" data-page="filter">58</div><div class="number-btn" data-num="59" data-page="filter">59</div><div class="number-btn" data-num="60" data-page="filter">60</div><div class="number-btn" data-num="61" data-page="filter">61</div><div class="number-btn" data-num="62" data-page="filter">62</div><div class="number-btn" data-num="63" data-page="filter">63</div><div class="number-btn" data-num="64" data-page="filter">64</div><div class="number-btn" data-num="65" data-page="filter">65</div><div class="number-btn" data-num="66" data-page="filter">66</div><div class="number-btn" data-num="67" data-page="filter">67</div><div class="number-btn" data-num="68" data-page="filter">68</div><div class="number-btn" data-num="69" data-page="filter">69</div><div class="number-btn" data-num="70" data-page="filter">70</div><div class="number-btn" data-num="71" data-page="filter">71</div><div class="number-btn" data-num="72" data-page="filter">72</div><div class="number-btn" data-num="73" data-page="filter">73</div><div class="number-btn" data-num="74" data-page="filter">74</div><div class="number-btn" data-num="75" data-page="filter">75</div><div class="number-btn" data-num="76" data-page="filter">76</div><div class="number-btn" data-num="77" data-page="filter">77</div><div class="number-btn" data-num="78" data-page="filter">78</div><div class="number-btn" data-num="79" data-page="filter">79</div><div class="number-btn" data-num="80" data-page="filter">80</div></div>
            <div class="flex justify-between items-center">
                <p class="text-xs text-gray-400" id="filterSelectionStatus">已选择：0/20个</p>
                <button id="clearFilterNumbers" class="text-xs text-red-400 hover:text-red-300">
                    <i class="fa fa-trash-o"></i> 一键清除
                </button>
            </div>
        </div>
        
        <!-- 3. 选择匹配位数 - 放在第三位 -->
        <div class="stat-card mb-4">
            <h2 class="text-lg font-semibold mb-3">选择匹配位数</h2>
            <div class="flex flex-wrap gap-2 mb-2">
                <button class="digit-option" data-digit="3">选3</button>
                <button class="digit-option" data-digit="4">选4</button>
                <button class="digit-option" data-digit="5">选5</button>
                <button class="digit-option" data-digit="6">选6</button>
                <button class="digit-option" data-digit="7">选7</button>
            </div>
            <input type="hidden" id="selectedDigit" value="">
        </div>
        
        <!-- 4. 筛选结果 - 放在最后 -->
        <div class="stat-card mb-16">
            <h2 class="text-lg font-semibold mb-3">筛选结果（按出现次数降序）</h2>
            <div id="filterResults" class="min-h-[150px]">
                <p class="text-gray-400 text-xs text-center py-4">请选择号码和匹配位数</p>
            </div>
        </div>
    </div>

    <!-- 3. 历史记录界面 -->
    <div id="historyPage" class="page container mx-auto p-3 max-w-4xl hidden">
        <h1 class="text-xl font-bold mb-4 text-center">查询历史</h1>
        
        <div class="stat-card mb-16">
            <div id="historyList" class="min-h-[300px]"><p class="text-gray-400 text-xs text-center py-8">暂无查询历史</p></div>
            <button id="clearHistoryBtn" class="w-full mt-4 bg-red-600 hover:bg-red-500 text-white py-2 rounded-md text-sm transition-colors">
                <i class="fa fa-trash"></i> 清空历史记录
            </button>
        </div>
    </div>

    <!-- 底部导航栏 -->
    <div class="fixed bottom-0 left-0 right-0 bg-gray-800 py-2 shadow-lg z-50">
        <div class="flex justify-around">
            <button id="navMatch" class="nav-item active">
                <i class="fa fa-search text-sm"></i>
                <span class="text-xs mt-1">匹配号码</span>
            </button>
            <button id="navFilter" class="nav-item">
                <i class="fa fa-filter text-sm"></i>
                <span class="text-xs mt-1">大底筛选</span>
            </button>
            <button id="navHistory" class="nav-item">
                <i class="fa fa-history text-sm"></i>
                <span class="text-xs mt-1">历史记录</span>
            </button>
        </div>
    </div>

    <!-- 通知提示 -->
    <div id="toast" class="fixed top-4 right-4 bg-gray-800 text-white px-3 py-2 rounded-md shadow-lg transform transition-transform duration-300 flex items-center max-w-[80%] z-50 translate-x-full">
        <i id="toastIcon" class="fa fa-check-circle mr-2 text-green-400 text-xs"></i>
        <span id="toastText" class="text-xs">已添加号码组: 25287</span>
    </div>

    <script>
        // 核心数据存储
        let numberGroups = [];       // 存储所有号码组
        let selectedNumbers = new Set();  // 匹配页面选中的号码
        let filterSelectedNumbers = new Set(); // 筛选页面选中的号码
        let matchMode = 'exact';     // 匹配模式：exact/partial
        let searchHistory = [];      // 查询历史记录

        // 初始化
        document.addEventListener('DOMContentLoaded', () => {
            initNumberSelectors();
            loadData();
            updateStats();
            updateLatestGroups();
            bindEvents();
            renderHistory();
        });

        // 初始化两个页面的号码选择器（1-80）- 修复无法点击和多余号码问题
        function initNumberSelectors() {
            // 1. 匹配页面的号码选择器
            const matchContainer = document.getElementById('numberSelector');
            // 2. 筛选页面的号码选择器
            const filterContainer = document.getElementById('filterNumberSelector');
            
            // 清空容器，防止重复添加
            matchContainer.innerHTML = '';
            filterContainer.innerHTML = '';
            
            // 只添加1-80的号码按钮
            for (let i = 1; i <= 80; i++) {
                // 匹配页面的号码按钮
                const matchBtn = createNumberButton(i, 'match');
                matchContainer.appendChild(matchBtn);
                
                // 筛选页面的号码按钮
                const filterBtn = createNumberButton(i, 'filter');
                filterContainer.appendChild(filterBtn);
            }
        }

        // 创建号码按钮
        function createNumberButton(num, page) {
            const btn = document.createElement('div');
            btn.className = 'number-btn';
            btn.textContent = num;
            btn.dataset.num = num;
            btn.dataset.page = page;

            btn.addEventListener('click', () => {
                const maxCount = page === 'match' ? 9 : 20;
                const targetSet = page === 'match' ? selectedNumbers : filterSelectedNumbers;
                handleNumberClick(btn, targetSet, maxCount);
            });
            
            return btn;
        }

        // 处理号码点击事件
        function handleNumberClick(btn, set, maxCount) {
            const num = parseInt(btn.dataset.num);
            
            if (btn.classList.contains('selected')) {
                // 取消选择
                btn.classList.remove('selected');
                set.delete(num);
            } else {
                // 限制最大选择数量
                if (set.size < maxCount) {
                    btn.classList.add('selected');
                    set.add(num);
                } else {
                    showToast(`最多只能选择${maxCount}个号码`, 'warning');
                }
            }
            
            // 更新选择状态文本
            if (btn.dataset.page === 'match') {
                document.getElementById('selectionStatus').textContent = 
                    `已选择：${selectedNumbers.size}/9个`;
            } else {
                document.getElementById('filterSelectionStatus').textContent = 
                    `已选择：${filterSelectedNumbers.size}/20个`;
                filterResults(); // 自动筛选
            }
        }

        // 加载本地存储数据
        function loadData() {
            const savedGroups = localStorage.getItem('numberGroups');
            const savedHistory = localStorage.getItem('searchHistory');
            
            if (savedGroups) {
                try {
                    numberGroups = JSON.parse(savedGroups);
                } catch (e) {
                    console.error('加载号码组数据失败:', e);
                    numberGroups = [];
                }
            }
            
            if (savedHistory) {
                try {
                    searchHistory = JSON.parse(savedHistory);
                } catch (e) {
                    console.error('加载历史记录失败:', e);
                    searchHistory = [];
                }
            }
        }

        // 保存数据到本地存储
        function saveData() {
            localStorage.setItem('numberGroups', JSON.stringify(numberGroups));
            localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
        }

        // 更新统计信息
        function updateStats() {
            document.getElementById('totalGroups').textContent = numberGroups.length;

            if (numberGroups.length === 0) {
                document.getElementById('latestId').textContent = '无';
                document.getElementById('latestTime').textContent = '无';
                return;
            }

            // 按时间排序取最新的
            const sorted = [...numberGroups].sort((a, b) => b.timestamp - a.timestamp);
            const latest = sorted[0];
            
            document.getElementById('latestId').textContent = latest.id;
            document.getElementById('latestTime').textContent = new Date(latest.timestamp).toLocaleString();
        }

        // 获取当前最新编号（用于计算遗漏期数）
        function getLatestGroupId() {
            if (numberGroups.length === 0) return 0;
            
            // 按编号排序取最大值（最新编号）
            const maxId = numberGroups.reduce((max, group) => {
                const numId = parseInt(group.id, 10) || 0;
                return numId > max ? numId : max;
            }, 0);
            
            return maxId;
        }

        // 更新最新号码组显示（最近三组）
        function updateLatestGroups() {
            const container = document.getElementById('latestGroupsContainer');
            
            if (numberGroups.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-4">暂无数据</p>';
                return;
            }
            
            // 按时间排序取最新的3组
            const latestGroups = [...numberGroups]
                .sort((a, b) => b.timestamp - a.timestamp)
                .slice(0, 3);
            
            let html = '<div class="space-y-2">';
            latestGroups.forEach(group => {
                html += `
                <div class="bg-gray-700 p-2 rounded-md">
                    <div class="flex justify-between text-xs">
                        <span class="font-bold">${group.id}</span>
                        <span class="text-gray-400">${new Date(group.timestamp).toLocaleString()}</span>
                    </div>
                    <div class="text-xs mt-1 text-gray-300">${group.numbers.join(', ')}</div>
                </div>
                `;
            });
            html += '</div>';
            container.innerHTML = html;
        }

        // 绑定所有事件
        function bindEvents() {
            // 页面导航切换
            document.getElementById('navMatch').addEventListener('click', () => switchPage('match'));
            document.getElementById('navFilter').addEventListener('click', () => switchPage('filter'));
            document.getElementById('navHistory').addEventListener('click', () => switchPage('history'));
            
            // 匹配页面事件
            document.getElementById('addBtn').addEventListener('click', addNumberGroup);
            document.getElementById('clearInputBtn').addEventListener('click', clearInputFields);
            document.getElementById('batchImportBtn').addEventListener('click', batchImport);
            
            // 匹配模式切换
            document.getElementById('exactMatch').addEventListener('click', () => {
                matchMode = 'exact';
                updateMatchModeButtons();
            });
            document.getElementById('partialMatch').addEventListener('click', () => {
                matchMode = 'partial';
                updateMatchModeButtons();
            });
            
            document.getElementById('searchBtn').addEventListener('click', performSearch);
            
            // 数据管理事件
            document.getElementById('exportBtn').addEventListener('click', exportData);
            document.getElementById('importBtn').addEventListener('click', () => {
                document.getElementById('fileInput').click();
            });
            document.getElementById('fileInput').addEventListener('change', importData);
            document.getElementById('solidifyBtn').addEventListener('click', solidifyData);
            document.getElementById('clearAllBtn').addEventListener('click', clearAllData);
            
            // 大底筛选页面事件
            document.getElementById('clearFilterNumbers').addEventListener('click', clearFilterSelections);
            
            // 位数选择事件
            document.querySelectorAll('.digit-option').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.digit-option').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    document.getElementById('selectedDigit').value = btn.dataset.digit;
                    filterResults(); // 自动筛选
                });
            });
            
            // 历史记录页面事件
            document.getElementById('clearHistoryBtn').addEventListener('click', clearHistory);
        }

        // 切换页面
        function switchPage(pageName) {
            // 隐藏所有页面
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // 显示选中页面
            document.getElementById(`${pageName}Page`).classList.remove('hidden');
            
            // 更新导航状态
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('active');
            });
            document.getElementById(`nav${pageName.charAt(0).toUpperCase() + pageName.slice(1)}`).classList.add('active');
        }

        // 更新匹配模式按钮状态
        function updateMatchModeButtons() {
            if (matchMode === 'exact') {
                document.getElementById('exactMatch').className = 'flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-md text-sm transition-colors';
                document.getElementById('partialMatch').className = 'flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 rounded-md text-sm transition-colors';
            } else {
                document.getElementById('partialMatch').className = 'flex-1 bg-primary hover:bg-primary/90 text-white py-2 rounded-md text-sm transition-colors';
                document.getElementById('exactMatch').className = 'flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 rounded-md text-sm transition-colors';
            }
        }

        // 添加单个号码组
        function addNumberGroup() {
            const id = document.getElementById('groupId').value.trim();
            const numbersStr = document.getElementById('groupNumbers').value.trim();
            
            if (!id) {
                showToast('请输入号码组编号', 'error');
                return;
            }
            
            if (!numbersStr) {
                showToast('请输入号码', 'error');
                return;
            }
            
            // 解析并验证号码
            try {
                const numbers = numbersStr.split(',').map(num => {
                    const n = parseInt(num.trim());
                    if (isNaN(n) || n < 1 || n > 80) {
                        throw new Error(`无效号码: ${num}`);
                    }
                    return n;
                });
                
                // 去重
                const uniqueNumbers = [...new Set(numbers)];
                const timestamp = new Date().getTime();
                
                // 检查是否已存在
                const existingIndex = numberGroups.findIndex(g => g.id === id);
                if (existingIndex >= 0) {
                    numberGroups[existingIndex] = { id, numbers: uniqueNumbers, timestamp };
                    showToast(`已更新号码组: ${id}`, 'success');
                } else {
                    numberGroups.push({ id, numbers: uniqueNumbers, timestamp });
                    showToast(`已添加号码组: ${id}`, 'success');
                }
                
                // 保存并更新统计
                saveData();
                updateStats();
                updateLatestGroups();
                
                // 清空输入
                clearInputFields();
            } catch (err) {
                showToast(err.message, 'error');
            }
        }

        // 清空输入字段
        function clearInputFields() {
            document.getElementById('groupId').value = '';
            document.getElementById('groupNumbers').value = '';
        }

        // 批量导入号码组
        function batchImport() {
            const text = document.getElementById('batchInput').value.trim();
            if (!text) {
                showToast('请输入批量数据', 'error');
                return;
            }
            
            const lines = text.split('\n');
            let success = 0, failed = 0;
            
            lines.forEach(line => {
                if (!line.trim()) return;
                
                const parts = line.split(',');
                if (parts.length < 2) {
                    failed++;
                    return;
                }
                
                const id = parts[0].trim();
                const numbers = parts.slice(1).map(num => {
                    const n = parseInt(num.trim());
                    return (isNaN(n) || n < 1 || n > 80) ? null : n;
                }).filter(n => n !== null);
                
                if (!id || numbers.length === 0) {
                    failed++;
                    return;
                }
                
                // 去重并保存
                const uniqueNumbers = [...new Set(numbers)];
                const timestamp = new Date().getTime();
                const existingIndex = numberGroups.findIndex(g => g.id === id);
                
                if (existingIndex >= 0) {
                    numberGroups[existingIndex] = { id, numbers: uniqueNumbers, timestamp };
                } else {
                    numberGroups.push({ id, numbers: uniqueNumbers, timestamp });
                }
                
                success++;
            });
            
            saveData();
            updateStats();
            updateLatestGroups();
            showToast(`批量导入完成: 成功${success}组, 失败${failed}组`, 'success');
            document.getElementById('batchInput').value = '';
        }

        // 执行查询并计算概率（优化降位匹配功能）
        function performSearch() {
            const selected = Array.from(selectedNumbers);
            if (selected.length === 0) {
                showToast('请至少选择一个号码', 'error');
                return;
            }
            
            // 重置提示信息
            document.getElementById('matchHint').textContent = '';
            
            // 1. 查找匹配的号码组
            let matchedGroups = [];
            let isFallback = false;
            
            if (matchMode === 'exact') {
                // 完全匹配：包含所有选中号码
                matchedGroups = numberGroups.filter(group => 
                    selected.every(num => group.numbers.includes(num))
                );
                
                // 无完全匹配时自动进行降位匹配
                if (matchedGroups.length === 0) {
                    isFallback = true;
                    document.getElementById('matchHint').textContent = '(未找到完全匹配，已自动进行降位匹配)';
                    
                    // 获取部分匹配结果并按匹配位数排序
                    let partialMatches = numberGroups.filter(group => 
                        selected.some(num => group.numbers.includes(num))
                    );
                    
                    // 按匹配数量降序排列，实现降位效果
                    partialMatches.sort((a, b) => {
                        const matchCountA = selected.filter(num => a.numbers.includes(num)).length;
                        const matchCountB = selected.filter(num => b.numbers.includes(num)).length;
                        return matchCountB - matchCountA;
                    });
                    
                    matchedGroups = partialMatches;
                }
            } else {
                // 部分匹配：自动降位匹配
                let partialMatches = numberGroups.filter(group => 
                    selected.some(num => group.numbers.includes(num))
                );
                
                // 按匹配数量降序排列，实现降位效果
                partialMatches.sort((a, b) => {
                    const matchCountA = selected.filter(num => a.numbers.includes(num)).length;
                    const matchCountB = selected.filter(num => b.numbers.includes(num)).length;
                    return matchCountB - matchCountA;
                });
                
                matchedGroups = partialMatches;
            }
            
            // 限制最多显示5组降位匹配结果
            const displayGroups = matchedGroups.slice(0, 5);
            
            // 更新匹配组计数
            document.getElementById('matchCount').textContent = displayGroups.length;
            
            // 2. 显示匹配的号码组，包含匹配的具体号码
            const resultsContainer = document.getElementById('matchResults');
            if (displayGroups.length === 0) {
                resultsContainer.innerHTML = '<p class="text-gray-400 text-xs text-center py-4">未找到匹配的号码组</p>';
            } else {
                let html = '<div class="space-y-2 max-h-[200px] overflow-y-auto pr-1">';
                displayGroups.forEach(group => {
                    // 计算匹配位数和具体匹配的号码
                    const matchedNumbers = selected.filter(num => group.numbers.includes(num));
                    const matchCount = matchedNumbers.length;
                    const date = new Date(group.timestamp);
                    
                    html += `
                    <div class="bg-gray-700 p-2 rounded-md text-xs">
                        <div class="flex justify-between flex-wrap gap-1">
                            <span class="font-bold">${group.id}</span>
                            <div class="flex gap-2 items-center">
                                <span class="px-1.5 py-0.5 bg-primary/20 text-primary rounded text-xs">匹配${matchCount}位</span>
                                <span class="text-gray-400">${date.toLocaleString()}</span>
                            </div>
                        </div>
                        <div class="mt-1 mb-1">
                            匹配号码: 
                            ${matchedNumbers.map(num => `<span class="matched-numbers">${num}</span>`).join('')}
                        </div>
                        <div class="text-gray-300">全部号码: ${group.numbers.join(', ')}</div>
                        <div class="flex gap-2 mt-1 justify-end">
                            <button class="text-primary text-xs" onclick="editGroup('${group.id}')">编辑</button>
                            <button class="text-red-400 text-xs" onclick="deleteGroup('${group.id}')">删除</button>
                        </div>
                    </div>
                    `;
                });
                html += '</div>';
                resultsContainer.innerHTML = html;
            }
            
            // 3. 计算并显示关联概率（保留原有功能）
            calculateProbability(matchedGroups, selected);
            
            // 4. 保存到历史记录
            addToHistory(selected);
        }

        // 计算关联概率（保留原有功能）
        function calculateProbability(matchedGroups, selectedNumbers) {
            if (matchedGroups.length === 0) {
                document.getElementById('probabilityResults').innerHTML = 
                    '<p class="text-gray-400 text-xs text-center py-4">无匹配数据，无法计算概率</p>';
                return;
            }
            
            // 统计所有非选中号码的出现次数
            const numberStats = {};
            const totalGroups = matchedGroups.length;
            
            // 遍历所有匹配的组
            for (const group of matchedGroups) {
                for (const num of group.numbers) {
                    // 排除已选中的号码
                    if (!selectedNumbers.includes(num)) {
                        numberStats[num] = (numberStats[num] || 0) + 1;
                    }
                }
            }
            
            // 转换为数组并排序（按出现次数降序）
            const sortedNumbers = Object.entries(numberStats)
                .map(([num, count]) => ({
                    num: parseInt(num),
                    count,
                    probability: (count / totalGroups * 100).toFixed(1)
                }))
                .sort((a, b) => b.count - a.count)
                .slice(0, 15); // 只显示前15个高概率号码
            
            // 显示概率结果
            const probContainer = document.getElementById('probabilityResults');
            if (sortedNumbers.length === 0) {
                probContainer.innerHTML = '<p class="text-gray-400 text-xs text-center py-4">无关联号码</p>';
                return;
            }
            
            let html = '<div class="space-y-3 max-h-[200px] overflow-y-auto pr-1">';
            sortedNumbers.forEach(item => {
                html += `
                <div class="text-xs">
                    <div class="flex justify-between mb-1">
                        <span class="font-medium">号码 ${item.num}</span>
                        <span class="text-green-400">出现 ${item.count} 次 (${item.probability}%)</span>
                    </div>
                    <div class="probability-bar">
                        <div class="probability-fill" style="width: ${item.probability}%"></div>
                    </div>
                </div>
                `;
            });
            html += '</div>';
            probContainer.innerHTML = html;
        }

        // 添加到历史记录
        function addToHistory(numbers) {
            const historyItem = {
                id: Date.now(),
                numbers: numbers,
                matchType: matchMode === 'exact' ? '完全匹配' : '部分匹配',
                time: new Date().toLocaleString()
            };
            
            searchHistory.unshift(historyItem);
            
            // 限制历史记录数量
            if (searchHistory.length > 50) {
                searchHistory = searchHistory.slice(0, 50);
            }
            
            saveData();
            renderHistory();
        }

        // 渲染历史记录
        function renderHistory() {
            const historyList = document.getElementById('historyList');
            
            if (searchHistory.length === 0) {
                historyList.innerHTML = '<p class="text-gray-400 text-xs text-center py-8">暂无查询历史</p>';
                return;
            }
            
            let html = '<div class="space-y-3 max-h-[400px] overflow-y-auto pr-1">';
            searchHistory.forEach(item => {
                html += `
                <div class="bg-gray-700 p-3 rounded-md text-xs">
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-400">${item.time}</span>
                        <span class="px-2 py-0.5 bg-gray-600 rounded text-xs">${item.matchType}</span>
                    </div>
                    <div>选择号码: ${item.numbers.join(', ')}</div>
                    <button class="mt-2 text-primary text-xs" onclick="replaySearch(${item.id})">
                        <i class="fa fa-refresh"></i> 重新查询
                    </button>
                </div>
                `;
            });
            html += '</div>';
            historyList.innerHTML = html;
        }

        // 重新执行历史查询
        function replaySearch(historyId) {
            const item = searchHistory.find(h => h.id === historyId);
            if (!item) return;
            
            // 切换到匹配页面
            switchPage('match');
            
            // 清空当前选择
            selectedNumbers.clear();
            document.querySelectorAll('[data-page="match"].number-btn.selected').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // 选择历史号码
            item.numbers.forEach(num => {
                const btn = document.querySelector(`[data-page="match"][data-num="${num}"]`);
                if (btn) {
                    btn.classList.add('selected');
                    selectedNumbers.add(num);
                }
            });
            
            // 更新选择状态
            document.getElementById('selectionStatus').textContent = 
                `已选择：${selectedNumbers.size}/9个`;
            
            // 设置匹配模式
            matchMode = item.matchType === '完全匹配' ? 'exact' : 'partial';
            updateMatchModeButtons();
            
            // 执行查询
            performSearch();
        }

        // 清空历史记录
        function clearHistory() {
            if (searchHistory.length === 0) {
                showToast('没有历史记录可清空', 'error');
                return;
            }
            
            if (confirm('确定要清空所有查询历史吗？')) {
                searchHistory = [];
                saveData();
                renderHistory();
                showToast('历史记录已清空', 'success');
            }
        }

        // 大底筛选功能
        function filterResults() {
            const digit = parseInt(document.getElementById('selectedDigit').value);
            const selectedNumbers = Array.from(filterSelectedNumbers);
            const resultsContainer = document.getElementById('filterResults');
            
            // 验证条件
            if (!digit || selectedNumbers.length < digit) {
                resultsContainer.innerHTML = '<p class="text-gray-400 text-xs text-center py-4">请选择至少与匹配位数相同数量的号码</p>';
                return;
            }
            
            if (numberGroups.length === 0) {
                resultsContainer.innerHTML = '<p class="text-gray-400 text-xs text-center py-4">暂无号码组数据</p>';
                return;
            }
            
            // 获取当前最新一期编号
            const latestGroupId = getLatestGroupId();
            
            // 统计所有可能的组合出现次数及最近出现信息
            const combinationStats = new Map();
            
            numberGroups.forEach(group => {
                // 将组编号转换为数字
                const groupIdNum = parseInt(group.id, 10) || 0;
                
                // 找出当前组与选择号码的交集
                const intersection = group.numbers.filter(num => selectedNumbers.includes(num));
                
                // 生成所有指定长度的组合
                if (intersection.length >= digit) {
                    const combinations = getCombinations(intersection, digit);
                    combinations.forEach(comb => {
                        // 排序后作为唯一键
                        const key = comb.sort((a, b) => a - b).join(',');
                        
                        if (combinationStats.has(key)) {
                            const stats = combinationStats.get(key);
                            stats.count += 1;
                            
                            // 更新最近出现的编号（取最大的编号，即最新出现的）
                            if (groupIdNum > stats.lastOccurrenceId) {
                                stats.lastOccurrenceId = groupIdNum;
                                stats.lastOccurrenceGroup = group.id;
                            }
                        } else {
                            combinationStats.set(key, {
                                count: 1,
                                lastOccurrenceId: groupIdNum,
                                lastOccurrenceGroup: group.id
                            });
                        }
                    });
                }
            });
            
            // 处理结果
            if (combinationStats.size === 0) {
                resultsContainer.innerHTML = '<p class="text-gray-400 text-xs text-center py-4">未找到匹配的组合</p>';
                return;
            }
            
            // 排序并显示前15个
            const sortedResults = Array.from(combinationStats.entries())
                .sort((a, b) => b[1].count - a[1].count)
                .slice(0, 15);
            
            let html = '<div class="space-y-3 max-h-[300px] overflow-y-auto pr-1 text-xs">';
            sortedResults.forEach(([comb, stats], index) => {
                const percentage = ((stats.count / numberGroups.length) * 100).toFixed(1);
                // 严格按照公式计算：当前最新编号 - 最近出现编号 = 遗漏期数
                const missingPeriods = latestGroupId - stats.lastOccurrenceId;
                
                html += `
                <div class="bg-gray-700 p-2 rounded-md">
                    <div class="flex justify-between items-center mb-1">
                        <span class="font-medium">${index + 1}. ${comb}</span>
                        <span class="text-green-400">出现 ${stats.count} 次 (${percentage}%)</span>
                    </div>
                    <div class="flex justify-between text-xs text-gray-300 mb-1">
                        <span>最近出现: ${stats.lastOccurrenceGroup}</span>
                        <span class="${missingPeriods > 10 ? 'text-red-400' : missingPeriods > 5 ? 'text-yellow-400' : 'text-green-400'}">
                            遗漏 ${missingPeriods} 期
                        </span>
                    </div>
                    <div class="probability-bar">
                        <div class="probability-fill" style="width: ${percentage}%"></div>
                    </div>
                </div>
                `;
            });
            html += '</div>';
            resultsContainer.innerHTML = html;
        }

        // 清空筛选页面的号码选择
        function clearFilterSelections() {
            if (filterSelectedNumbers.size === 0) return;
            
            filterSelectedNumbers.clear();
            document.querySelectorAll('[data-page="filter"].number-btn.selected').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.getElementById('filterSelectionStatus').textContent = '已选择：0/20个';
            filterResults();
            showToast('已清除所有选中号码', 'info');
        }

        // 生成组合（从数组中选n个元素的所有可能组合）
        function getCombinations(arr, n) {
            const result = [];
            const combine = (start, current) => {
                if (current.length === n) {
                    result.push([...current]);
                    return;
                }
                for (let i = start; i < arr.length; i++) {
                    current.push(arr[i]);
                    combine(i + 1, current);
                    current.pop();
                }
            };
            combine(0, []);
            return result;
        }

        // 导出数据
        function exportData() {
            if (numberGroups.length === 0) {
                showToast('没有数据可导出', 'error');
                return;
            }
            
            const dataStr = JSON.stringify(numberGroups, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `号码组数据_${new Date().toLocaleDateString()}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('数据导出成功', 'success');
        }

        // 导入数据
        function importData(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(event) {
                try {
                    const imported = JSON.parse(event.target.result);
                    if (!Array.isArray(imported)) {
                        showToast('导入数据格式错误', 'error');
                        return;
                    }
                    
                    // 验证数据格式
                    let valid = true;
                    imported.forEach(item => {
                        if (!item.id || !Array.isArray(item.numbers) || typeof item.timestamp !== 'number') {
                            valid = false;
                        }
                    });
                    
                    if (!valid) {
                        showToast('导入数据格式错误', 'error');
                        return;
                    }
                    
                    // 合并数据（保留较新的）
                    imported.forEach(item => {
                        const index = numberGroups.findIndex(g => g.id === item.id);
                        if (index >= 0) {
                            if (item.timestamp > numberGroups[index].timestamp) {
                                numberGroups[index] = item;
                            }
                        } else {
                            numberGroups.push(item);
                        }
                    });
                    
                    saveData();
                    updateStats();
                    updateLatestGroups();
                    showToast(`成功导入 ${imported.length} 组数据`, 'success');
                } catch (err) {
                    showToast('导入失败: ' + err.message, 'error');
                }
            };
            reader.readAsText(file);
            e.target.value = ''; // 重置
        }

        // 固化数据 - 保存带号码组数据库的整个HTML文件
        function solidifyData() {
            // 获取当前页面完整HTML
            const htmlContent = document.documentElement.outerHTML;
            
            // 创建包含数据的Blob对象
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            
            // 创建下载链接
            const a = document.createElement('a');
            a.href = url;
            a.download = `号码组系统_带数据_${new Date().toLocaleDateString()}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('已生成包含完整数据的HTML文件', 'success');
        }

        // 清空所有数据
        function clearAllData() {
            if (numberGroups.length === 0) {
                showToast('没有数据可清空', 'error');
                return;
            }
            
            if (confirm('确定要清空所有数据吗？此操作不可恢复！')) {
                numberGroups = [];
                saveData();
                updateStats();
                updateLatestGroups();
                document.getElementById('matchResults').innerHTML = '<p class="text-gray-400 text-xs text-center py-4">请选择号码并查询</p>';
                document.getElementById('probabilityResults').innerHTML = '<p class="text-gray-400 text-xs text-center py-4">查询后显示概率分析</p>';
                showToast('所有数据已清空', 'success');
            }
        }

        // 编辑号码组
        function editGroup(id) {
            const group = numberGroups.find(g => g.id === id);
            if (group) {
                document.getElementById('groupId').value = group.id;
                document.getElementById('groupNumbers').value = group.numbers.join(',');
                showToast(`正在编辑: ${id}`, 'info');
                document.getElementById('groupId').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // 删除号码组
        function deleteGroup(id) {
            if (confirm(`确定要删除号码组 ${id} 吗？`)) {
                const initialLength = numberGroups.length;
                numberGroups = numberGroups.filter(g => g.id !== id);
                
                if (numberGroups.length < initialLength) {
                    saveData();
                    updateStats();
                    updateLatestGroups();
                    performSearch(); // 重新查询
                    showToast(`已删除: ${id}`, 'success');
                }
            }
        }

        // 显示提示消息
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            const icon = document.getElementById('toastIcon');
            const text = document.getElementById('toastText');
            
            // 设置图标
            switch (type) {
                case 'success':
                    icon.className = 'fa fa-check-circle mr-2 text-green-400 text-xs';
                    break;
                case 'error':
                    icon.className = 'fa fa-exclamation-circle mr-2 text-red-400 text-xs';
                    break;
                case 'warning':
                    icon.className = 'fa fa-exclamation-triangle mr-2 text-yellow-400 text-xs';
                    break;
                default:
                    icon.className = 'fa fa-info-circle mr-2 text-blue-400 text-xs';
            }
            
            text.textContent = message;
            toast.classList.remove('translate-x-full');
            
            // 3秒后隐藏
            setTimeout(() => {
                toast.classList.add('translate-x-full');
            }, 3000);
        }

        // 暴露全局函数
        window.editGroup = editGroup;
        window.deleteGroup = deleteGroup;
        window.replaySearch = replaySearch;
    </script>


<div id="fatkun-drop-panel">
    <a id="fatkun-drop-panel-close-btn">×</a>
        <div id="fatkun-drop-panel-inner">
            <div class="fatkun-content">
                <svg class="fatkun-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5892"><path d="M494.933333 782.933333c2.133333 2.133333 4.266667 4.266667 8.533334 6.4h8.533333c6.4 0 10.666667-2.133333 14.933333-6.4l2.133334-2.133333 275.2-275.2c8.533333-8.533333 8.533333-21.333333 0-29.866667-8.533333-8.533333-21.333333-8.533333-29.866667 0L533.333333 716.8V128c0-12.8-8.533333-21.333333-21.333333-21.333333s-21.333333 8.533333-21.333333 21.333333v588.8L249.6 475.733333c-8.533333-8.533333-21.333333-8.533333-29.866667 0-8.533333 8.533333-8.533333 21.333333 0 29.866667l275.2 277.333333zM853.333333 874.666667H172.8c-12.8 0-21.333333 8.533333-21.333333 21.333333s8.533333 21.333333 21.333333 21.333333H853.333333c12.8 0 21.333333-8.533333 21.333334-21.333333s-10.666667-21.333333-21.333334-21.333333z" p-id="5893"></path></svg>
                <div class="fatkun-title">拖拽到此处</div>
                <div class="fatkun-desc">图片将完成下载</div>
            </div>
            <div id="fatkun-supported-by">由图片批量下载神器提供</div>
        </div>
    </div><doubao-ai-csui id="10a364e462f941fa9673ba2e7082cdc7" data-host-id="eb151798-e1e5-4318-8d73-d962e449ad93"></doubao-ai-csui><div id="doubao-ai-translate-image-assistanteb151798-e1e5-4318-8d73-d962e449ad93" data-collection-img-host-id="eb151798-e1e5-4318-8d73-d962e449ad93"></div><div style="width: 0px; height: 0px; position: absolute; z-index: 200000;"></div><div id="doubao-ai-assistant" aria-label="flow-ai-assistant" aria-description="flow-ai-select-bar-enabled flow-ai-select-bar-support-iframe" style="width: 0px; height: 0px; position: absolute; top: 0px; left: 0px; overflow: hidden;" class="flow-ai-select-bar-enabled flow-ai-select-bar-support-iframe"></div>
<div id="__nightingale_view_cover" style="width: 100%; height: 100%; transition: -webkit-transform 10s ease-in-out 0s; position: fixed !important; left: 0px !important; bottom: 0px !important; overflow: hidden !important; background: rgb(0, 0, 0) !important; pointer-events: none !important; z-index: 2147483647; opacity: 0;"></div><doubao-ai-csui id="141dcfa972734192a2d1f2c118408ad9" data-host-id="b8a29e32-dda0-4ac4-b6ec-dfd886bee970"></doubao-ai-csui><div id="doubao-ai-translate-image-assistantb8a29e32-dda0-4ac4-b6ec-dfd886bee970" data-collection-img-host-id="b8a29e32-dda0-4ac4-b6ec-dfd886bee970"></div><div style="width: 0px; height: 0px; position: absolute; z-index: 200000;"></div></body></html>
